<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Einzahl App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <header class="header">
    <div class="container header-inner">
      <img src="logo.png" alt="Logo" class="logo">
    </div>
  </header>

  <main class="container">

    <!-- PIN -->
    <section id="pinSection" class="card">
      <h2>Anmeldung</h2>

      <label for="pinInput">PIN</label>
      <input type="password" id="pinInput" autocomplete="one-time-code" inputmode="numeric">

      <button type="button" onclick="verifyPin()">Anmelden</button>

      <div id="pinStatus" class="status"></div>
    </section>

    <!-- Auswahl -->
    <section id="selectSection" class="card" style="display:none">
      <h2>Auswahl</h2>

      <label for="centerSelect">Center</label>
      <select id="centerSelect"></select>

      <label for="automatSelect">Automat</label>
      <select id="automatSelect"></select>

      <div id="bestandBox" class="box"></div>
    </section>

    <!-- Einzahlung -->
    <section id="einzahlSection" class="card" style="display:none">
      <h2>Entnahme</h2>

      <label for="scheineSumme">Scheine (â‚¬)</label>
      <input id="scheineSumme" type="number" step="0.01">

      <label for="muenzenSumme">MÃ¼nzen gesamt (â‚¬)</label>
      <input id="muenzenSumme" type="number" step="0.01">

      <label for="einEuroEntnommen">Entnommene 1â‚¬ MÃ¼nzen (â‚¬)</label>
      <input id="einEuroEntnommen" type="number" step="1">

      <h3>1â‚¬ Verteilung</h3>

      <label for="einEuroAutomat">1â‚¬ â†’ Automat</label>
      <input id="einEuroAutomat" type="number" step="1">

      <label for="einEuroReserve">1â‚¬ â†’ Reserve</label>
      <input id="einEuroReserve" type="number" step="1">

      <h2>Wechsler</h2>

      <label for="wechslerEinEuroAlt">1â‚¬ Bestand im Wechsler (ALT â€“ abgelesen)</label>
      <input id="wechslerEinEuroAlt" type="number" step="1">

      <h2>Fotos</h2>

      <div class="photo-grid">
        <div class="photo-item">
          <label for="fotoBestand">Foto Bestand (Pflicht)</label>
          <input id="fotoBestand" type="file" accept="image/*" capture="environment">
          <img id="previewBestand" class="photo-preview" alt="Vorschau Bestand">
        </div>

        <div class="photo-item">
          <label for="fotoBeleg1">Einzahlbeleg Foto 1 (Pflicht)</label>
          <input id="fotoBeleg1" type="file" accept="image/*" capture="environment">
          <img id="previewBeleg1" class="photo-preview" alt="Vorschau Beleg 1">
        </div>

        <div class="photo-item">
          <label for="fotoBeleg2">Einzahlbeleg Foto 2 (optional)</label>
          <input id="fotoBeleg2" type="file" accept="image/*" capture="environment">
          <img id="previewBeleg2" class="photo-preview" alt="Vorschau Beleg 2">
        </div>
      </div>

      <button type="button" onclick="submitEinzahlung()">ðŸ’¾ Einzahlung speichern</button>

      <div id="saveStatus" class="status"></div>

      <div class="result">
        <h3>Ergebnis</h3>
        <div>
          Neuer Wechslerbestand (1â‚¬):
          <b><span id="resultWechslerNeu">â€“</span> â‚¬</b>
        </div>
        <div>
          Bestanddifferenz:
          <b><span id="resultDifferenz">â€“</span> â‚¬</b>
        </div>
      </div>
    </section>

  </main>

  <!-- Firebase (Storage) -->
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.13.1/firebase-storage-compat.js"></script>

  <script>
    // Firebase Storage Config (wie bisher in deiner funktionierenden App)
    const firebaseConfig = {
      apiKey: "AIzaSyBo-pt3krDP9c5AxojmWaHVqPkoqmupOvA",
      authDomain: "digitales-bordbuch.firebaseapp.com",
      projectId: "digitales-bordbuch",
      storageBucket: "digitales-bordbuch.appspot.com",
      messagingSenderId: "612073997080",
      appId: "1:612073997080:web:762a85694716da8f84546d",
      measurementId: "G-VRX8Q8QNDH"
    };

    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }
    window.storage = firebase.storage();
  </script>

  <script src="app.js"></script>
</body>
</html>
